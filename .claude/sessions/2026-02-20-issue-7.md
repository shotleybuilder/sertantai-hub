# Issue #7: TOTP challenge page in login flow

**Started**: 2026-02-20
**Issue**: https://github.com/shotleybuilder/sertantai-hub/issues/7

## Todo
- [x] Add backend proxy endpoints for TOTP challenge and recover
- [x] Update login flow to detect `totp_required` response
- [x] Create /auth/totp-challenge page (code entry + backup code fallback)
- [x] Wire up completeTotpChallenge and completeTotpRecovery in auth store
- [x] Handle error states (invalid code, rate limited, expired session)
- [x] Add 2 proxy tests (14 total, all passing)
- [x] Fix public paths: added /auth/magic-link and /auth/totp-challenge to layout guard

## Commits
- `e040923` feat: add TOTP challenge page in login flow

## Notes
- Hub routes: /api/auth/totp/challenge, /api/auth/totp/recover (public, no JWT)
- Auth returns `{status: "totp_required", session_token}` when TOTP user logs in
- Session token passed via URL params to challenge page
- Depends on sertantai-auth#9

**Ended**: 2026-02-20
