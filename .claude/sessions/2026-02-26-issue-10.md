# Issue #10: Profile Settings: Edit name, email, and password

**Started**: 2026-02-26
**Issue**: https://github.com/shotleybuilder/sertantai-hub/issues/10

## Todo
- [x] Explore existing settings UI and auth proxy
- [x] **Auth service**: Add `name` attribute to User resource
- [x] **Auth service**: Add `update_profile` action (accept name, email)
- [x] **Auth service**: Add `change_password` action (current_password + new_password)
- [x] **Auth service**: Add ProfileController with GET/PATCH profile + POST change-password
- [x] **Auth service**: Add routes for profile endpoints
- [x] **Hub backend**: Add profile proxy methods to AuthProxyController
- [x] **Hub backend**: Add profile routes to router.ex
- [x] **Frontend**: Create `$lib/api/profile.ts` API client
- [x] **Frontend**: Create `settings/profile/+page.svelte` page
- [x] **Frontend**: Update dashboard card from "Coming Soon" to link to /settings/profile
- [x] **Frontend**: Update authStore to include name from JWT/profile
- [x] Test end-to-end (backend 83/0, frontend 28/0, typecheck 0 errors, lint clean)

## Notes
- Auth service User has NO `name` attribute yet — hub's User does, auth's does not
- Auth service has NO profile or password-change endpoints — must add to sertantai-auth first
- Auth service `update` action only accepts `[:organization_id, :role]` — need new action
- Password hashed via AshAuthentication BcryptProvider (hashed_password field)
- Auth proxy pattern: `proxy_get`/`proxy_post` in `AuthProxyController` with `auth_header(conn)`
- Frontend pattern: `apiFetch()` auto-attaches Bearer token, handles 401 refresh
- Existing working settings pages: `/settings/security` (TOTP), `/settings/notifications`
- JWT claims include: sub, email, org_id, role, tier — may need to add `name`
- Dashboard "Coming Soon" profile card: `dashboard/+page.svelte` lines ~199-220

## Key Files
- Auth User: `~/Desktop/sertantai-auth/lib/sertantai_auth/accounts/user.ex`
- Auth Router: `~/Desktop/sertantai-auth/lib/sertantai_auth_web/router.ex`
- Auth Controller: `~/Desktop/sertantai-auth/lib/sertantai_auth_web/controllers/auth_controller.ex`
- Hub AuthProxy: `backend/lib/sertantai_hub_web/controllers/auth_proxy_controller.ex`
- Hub Router: `backend/lib/sertantai_hub_web/router.ex`
- Hub User: `backend/lib/sertantai_hub/auth/user.ex`
- Dashboard: `frontend/src/routes/dashboard/+page.svelte`
- Auth Store: `frontend/src/lib/stores/auth.ts`
- API Client: `frontend/src/lib/api/client.ts`
